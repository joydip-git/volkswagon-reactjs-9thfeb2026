import './App.css'
import { decreaseActionCreator, increaseActionCreator } from './redux/counterslice'
import { useTypedDispatch, useTypedSelector } from './redux/typedhooks'

const App = () => {
  //using non-typed useSelector (a useSelector hook where it is unaware of the data type of the reducer map [state type] that it itself passes to the callback function. the data type of the map/state type is actually resolved during runtime) and mention the data type of reducer map explicitly every time i use
  // const { counter } = useSelector((map: ReducerMapType) => map.counterState)

  //instead use typed useSelector
  const { counter } = useTypedSelector((map) => map.counterState)
  //using a non-typed useDispatch (a useDispatch hook which is unaware of what type of action to dispatch, util and unless you call the dispatch method and pass the action object)
  //const dispatch = useDispatch()

  //instead use typed useDispatch
  const dispatch = useTypedDispatch()

  const increaseHandler = () => {
    //dispatch({ type: 'INCREASE', payload:2 })
    const action = increaseActionCreator(2)
    dispatch(action)
  }
  const decreaseHandler = () => {
    //dispatch({ type: 'DECREASE', payload:1 })
    const action = decreaseActionCreator(1)
    dispatch(action)
  }
  return (
    <div>
      <span>Counter:&nbsp;{counter}</span>
      <br />
      <button type="button" onClick={increaseHandler}>Increase</button>
      &nbsp; &nbsp; &nbsp; &nbsp;
      <button type="button" onClick={decreaseHandler}>Decrease</button>
    </div>
  )
}

export default App